<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>{% block title %}{% endblock %}</title>
  <meta name="viewport" content= "width=device-width, initial-scale=1.0"> 
  {% load static %}
  {% block css %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  {% endblock %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">
{% block styles %}
{% endblock styles %}
</head>
<body>
 <!-- Modal -->
  <!-- Modal -->
  <div class="modal fade" id="login" role="dialog">
    <div class="modal-dialog modal-dialog-centered">

      <!-- Modal content-->
        <div class="container-fluid">
         <form method="post" action="{% url 'login' %}">
{% csrf_token %}
    <div class="row">
      <div class="col-sm-9 col-md-7 col-lg-12 mx-auto">
        <div class="card card-signin my-5">
          <div class="modal-content" style="border: 0px; border-radius: 25px;">
          <div class="card-body">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h5 class="card-title text-center">Sign In</h5>
            <form class="form-signin">
              <div class="form-label-group">
                <input type="text" id="id_username" class="form-control" placeholder="Login" name="username" required autofocus>
                <label for="id_username">Login</label>
              </div>
                <div class="form-label-group">
                  <input type="password" id="id_password" class="form-control" placeholder="Password" name="password" required>
                <label for="id_password">Password</label>
              </div>
               {% if form.errors %}
   <div class="alert alert-danger">
  <strong>Wrong username or password.</strong>
</div>
{% endif %}
              <button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">Sign in</button>
            </form>
          </div>
        </div>
      </div>
    </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Modal -->
  <!-- Modal -->
  <div class="modal fade" id="signup" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
      <!-- Modal content-->
        <div class="container-fluid">
         <form method="post" action="{% url 'signup' %}">
{% csrf_token %}
    <div class="row">
      <div class="col-sm-9 col-md-7 col-lg-12 mx-auto">
        <div class="card card-signin my-5">
          <div class="modal-content">
          <div class="card-body">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
             <h5 class="card-title text-center">Create an account </h5>
              <hr/>
                <form class="form-signup">
                  {% for field in form.visible_fields %}
                    <div class="form-group">
                      {{ field.errors }}
                      <div class="required form-label-group font-weight-bold">
                        {{ field.label_tag }}
                      </div>
                      {{field}}
                      <small class="form-text text-muted">{{ field.help_text }}</small>
                    </div>
                  {% endfor %}
                    <button class="btn btn-lg btn btn-success btn-block text-uppercase" type="submit">Sign up</button>
            </form>
          </div>
        </div>
      </div>
    </div>
        </div>
         </form>
      </div>

    </div>
  </div>

  <div class="banner" >
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="{% url 'home' %}">Guideproject</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav" >
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="{% url 'attractions' %}">Atrakcje</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'trip-plans' %}">Gotowe wycieczki</a>
      </li>
      {% if user.is_authenticated %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'shopping-cart' %}">Twój plan</a>
      </li>
      {% endif %}
    </ul>
      {% if user.is_authenticated %}
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">{{user.username}} <i class="fas fa-user"></i></a>
          <div class="dropdown-menu dropdown-menu-right">
            <a class="dropdown-item" href="{% url 'my-trip-plans' %}">Moje wycieczki</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'general' %}">Zarządzaj kontem</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'logout'%}?next={% url 'home' %}">Wyloguj</a>
          </div>
        </li>
      </ul>
      {% else %}
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class = "nav-link" href="#" data-toggle="modal" data-target="#login">Zaloguj</a>
        </li>   
        <li class="nav-item">
        <a class = "nav-link btn btn-outline-secondary" href="#" data-toggle="modal" data-target="#signup">Załóż konto</a>
        </li>   
      </ul>
      {% endif %}  
  </div>
</nav>
  </div>
    {% block content %}
    {% endblock %}
  <footer class="text-secondary page-footer text-center">
    All rights reserved &#9426 2019
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script type="text/javascript" src="{% static 'js/scripts.js' %}"></script>
  {% block scripts %}
  {% endblock scripts %}
</body>
</html>



