{% extends "base.html" %}

{% block title %}
    Atrakcje
{% endblock title %}    
{% block styles %}
<style>
.card-columns {
    column-count:3;
}
@media screen and (max-width:992px) {
    .card-columns{
        column-count:3;
    }
}
@media screen and (max-width:768px) {
    .card-columns{
        column-count:2;
    }
}
@media screen and (max-width:600px) {
    .card-columns{
        column-count:1;
    }
}
</style>
{% endblock styles %}
{% block content %}
<!--
<h2 style="padding:10px;text-align:center;"><span>Lista dostepnych atrakcji</span></h2>
<section class="container-fluid">
    <div class="row">
        <div class="col-5">
            {% if attraction_list %}
                {% load static %}
                <div class="listing-block">
                    {% for attraction in attraction_list %}
                    <div class="atr-list">
                        <a href="{% url 'attraction-detail' attraction.pk %}">
                            <div class="media">
                                <img class="mr-3" style="width: 128px; height: 80px"src="{% static "images/" %}{{attraction.name}}.jpeg" alt="{{attraction.name}}">
                                <div class="media-body">
                                    <div class="con" style="float:left; width:85%"><h5 class="mt-1 text-left">{{attraction.name}}</h5>
                                        <div class="info">
                                            <span><i class="fa fa-clock-o"></i> {{attraction.timeNeededToSightsee}} h</span>
                                            <span><i class="fa fa-money"></i> {{attraction.ticketCost}} zł</span>
                                        </div>
                                    </div>
                                    <div class="plus-icon-place" style="float:left">
                                        {% if user.is_authenticated %}
                                        {% if  attraction.name not in attractionNamesInCreator%}
                                            <a href="{% url 'add-attraction-to-shopping-cart' attraction.pk %}" class="icon-wrapper">
                                                    <i class="fas fa-plus-square plus-icon"></i>
                                                </a>
                                        {% else %}
                                            <a href="{% url 'add-attraction-to-shopping-cart' attraction.pk %}" class="icon-wrapper disabled">
                                                    <i class="fas fa-plus-square plus-icon"></i>
                                                </a>
                                        {% endif %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>  
                        </a>
                    </div>  
                    {% endfor %}
                    
                </div>
            {% endif %}

        </div>
        <div class="col">
            <div id="map"></div>
        </div>  
    </div>
</section>
-->
<div class="container-fluid">
    <div class="row">
        <div class="col">
            <h2 class="text-center my-4">Dostępne atrakcje</h2>
            <div class="listing-block text-center"> 
            <div class="card-columns"> 
                {% for attraction in attraction_list %}
                    <div class="card w-75 text-left">
                        <img class="card-img-top" src="{% static "images/" %}{{attraction.name}}.jpeg" alt="{{attraction.name}}">
                        <div class="card-body">
                            <h5 class="card-title pb-5">{{attraction.name}}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">
                                <i class="fa fa-clock-o pb-2"></i> {{attraction.getTimeAsFormattedString}} <br>
                                <i class="fa fa-money"></i> {{attraction.getFormattedCost}}
                            </h6>
                            <p class="card-text text-right">
                                <a class="icon-wrapper" href="{% url 'attraction-detail' attraction.pk %}">
                                    <i class="far fa-eye"></i>
                                </a>
                                {% if attraction.name not in attractionNamesInCreator %}
                                    <a class="icon-wrapper" href="{% url 'add-attraction-to-shopping-cart' attraction.pk %}">
                                        <i class="fas fa-plus-square"></i>
                                    </a>
                                {% endif %}
                            </p> 
                        </div> 
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block scripts%}
    {% comment %} <script async defer {% endcomment %}
        {% comment %} src="https://maps.googleapis.com/maps/api/js?key=AIzaSyArdvkTXE1oDlhs3VbJ4KJGYZtclFj79Hg&callback=attractionList"> {% endcomment %}
    {% comment %} </script> {% endcomment %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"></script>
    
 
    <script>
        locs={{attractionLocalizations|safe}};
            $(function(){
            $('.listing-block').slimScroll({
                height: '800px'
            });
        });
    </script>    
{% endblock scripts%}