{% extends "base.html" %}

{% block title %}
    Atrakcje
{% endblock title %}    

{% block content %}
<style>

@import url('https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700'); 
.listing-block{background:#fff;height:100%;overflow-y:scroll;}
.atr-list{margin-bottom:10px;padding:10px;border-color:#C0C0C0;background-color: #f1f1f1 ;width:100%;}
.atr-list:hover{background-color: #E8E8E8;}
.plus-icon:hover{color:#101010;}

</style>

<h2 style="padding:10px;text-align:center;"><span>Lista dostepnych atrakcji</span></h2>
<section class="container-fluid">
    <div class="row">
        <div class="col-5">
            {% if availableAttractions %}
                {% load static %}
                <div class="listing-block">
                    {% for attraction in availableAttractions %}
                    <div class="atr-list">
                        <a href="{% url 'attraction-detail' attraction.pk %}" class="media-object" style="color:#000000;">
                            <div class="media">
                                <img class="mr-3" style="width: 128px; height: 80px"src="{% static "images/" %}{{attraction.name}}.jpeg" alt="Generic placeholder image">
                                <div class="media-body">
                                    <div class="con" style="float:left; width:85%"><h5 class="mt-1 text-left">{{attraction.name}}</h5>
                                        <div class="stats text-left">
                                            <span><i class="fa fa-clock-o"></i> {{attraction.timeNeededToSightsee}} h</span>
                                            <span><i class="fa fa-money"></i> {{attraction.ticketCost}} zł</span>
                                        </div>
                                    </div>
                                    <div class="plus-icon-place" style="float:left">
                                        <a href="{% url 'add-attraction-to-shopping-cart' attraction.pk %}" class="add_attraction_btn" style="color:#4F4F4F;">
                                            <i class="fas fa-plus-square plus-icon" style="font-size:35px;"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>  
                        </a>
                    </div>  
                    {% endfor %}
                    
                </div>
            {% else %}
                <h5 style="margin-top:50%;"><center>Wybrałeś wszystkie atrakcje</center></h5>
            {% endif %}

        </div>
        <div class="col">
            <div id="map"></div>
        </div>  
    </div>
</section>

{% endblock content %}

{% block scripts%}
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyArdvkTXE1oDlhs3VbJ4KJGYZtclFj79Hg&callback=attractionList">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"></script>
    <script>
        locs={{attractionLocalizations|safe}};
            $(function(){
            $('.listing-block').slimScroll({
                height: '600px'
            });
        });
    </script>    
{% endblock scripts%}