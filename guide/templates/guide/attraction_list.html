{% extends "base.html" %}

{% block title %}
    Atrakcje
{% endblock title %}    

{% block content %}
<style>
@import url('https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700'); 
.listing-block{background:#fff;height:600px;overflow-y:scroll;}
.atr-list{margin-bottom:10px;border-color:#C0C0C0;background-color: #FAF9F8 ;width:100%;}
.atr-list:hover{background-color: #E8E8E8;}
</style>

<section class="head">
    <div class="container">
        <h3 class="text-center"><span>Lista dostepnych atrakcji</span></h2>
    </div>
</section>
<section class="container-fluid">
    <div class="row">
        <div class="col-4">
            {% if attraction_list %}
                {% load static %}
                <div class="listing-block">
                    {% for attraction in attraction_list %}
                    <button href="{% url 'attraction-detail' attraction.pk %}" class="atr-list media-object btn btn-light">
                        <div class="media">
                            <img class="mr-3" style="width: 128px; height: 80px"src="{% static "images/" %}{{attraction.name}}.jpeg" alt="Generic placeholder image">
                            <div class="media-body">
                                <div class="con" style="float:left; width:85%"><h5 class="mt-3 text-left">{{attraction.name}}</h5>
                                    <div class="stats text-left">
                                        <span><i class="fa fa-clock-o"></i> {{attraction.timeNeededToSightsee}} h</span>
                                        <span><i class="fa fa-money"></i> {{attraction.ticketCost}} z≈Ç</span>
                                    </div>
                                </div>
                                <div class="plus-icon" style="float:left;">
                                    <a href="{% url 'add-attraction' attraction.pk %}"><i class="fas fa-plus-square" style="font-size:30px;color:#2F2F2F;width:15%;" href="#"></i></a>
                                </div>
                            </div>
                        </div>  
                    </button>
                    {% endfor %}
                    
                </div>
            {% endif %}
        </div>
        <div class="col">
		    <div id="map"></div>
        </div>  
    </div>
</section>

{% endblock content %}

{% block scripts%}
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyArdvkTXE1oDlhs3VbJ4KJGYZtclFj79Hg&callback=attractionList">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"></script>
<script>
        locs={{attractionLocalizations|safe}};
    $(function(){
    $('.listing-block').slimScroll({
        height: '600px'
    });
});
</script>
{% endblock scripts%}